>版本：ShardingSphere-JDBC 5.4.1 

# 读写分离

```ad-caution
事务性操作时，均在同一个数据库上进行操作，防止数据不一致性~
```

# 垂直拆分

垂直分表，无需ShardingSphere处理，属于业务端自身处理
垂直分库，需要ShardingSphere处理

# 水平拆分


*注意事项：MyBatis-Plus与ShardingSphere主键冲突问题*

``` java
@TableId(type = IdType.AUTO)
// @TableId(type = IdType.ASSIGN_ID)
private Long id
```

>当使用Mybatis-Plus时，如果使用IdType.ASSIGN_ID时，会使用Mybatis-Plus自身的雪花算法生成主键，而不会使用ShardingSphere-JDBC雪花算法策略。

如果需要生效，则可以使用IdType.AUTO，该类型的具体作用有两方面：
* 当配置了ShardingSphere-JDBC的分布式主键时，使用ShardingSphere-JDBC的分布式主键生成策略；
* 当没有配置ShardingSphere-JDBC的分布式主键时，则依赖数据库的主键自增策略。

# 多表关联

*增删改查*


## 多表关联查询

*笛卡尔积*

* server-order0库：t_order0与t_order_item0
* server-order0库：t_order0与t_order_item1（不必要的查询）
* server-order0库：t_order1与t_order_item0（不必要的查询）
* server-order0库：t_order1与t_order_item1
* server-order1库：t_order0与t_order_item0
* server-order1库：t_order0与t_order_item1（不必要的查询）
* server-order1库：t_order1与t_order_item0（不必要的查询）
* server-order1库：t_order1与t_order_item1

## 绑定表

绑定表，指的是<font color="#f79646">分片规则一致的一组分片表</font>。使用绑定表进行多表关联查询时，必须使用分片键进行关联，否则会出现笛卡尔积关联或跨库关联，从而影响查询效率。


绑定表配置


再次查询进行验证

>上述案例中，可以看到查询存在笛卡尔积，什么情况下存在跨库关联呢？再进行验证一番呢？TODO


# 广播表


广播表具有以下特性：

* <font color="#f79646">增删改操作</font>会实时在所有节点上执行，保持各个分片的数据一致性；
* <font color="#f79646">查询操作</font>只从其中一个节点上获取；
* 可以跟任何一个表进行JOIN操作。







