# 方式1.defineProps与defineEmits
## 基础父子组件传值

>父 → 子：defineProps（子组件defineProps接收参数）
>子 → 父：defineEmits（子组件发送参数）

### 父传子（父:属性绑定 → 子:接收属性）

>Parent.vue

```html
<script setup>  
import Child from "./Child.vue";  
  
const title = 'Hello';  
const todos = ['起床', '打扫卫生'];  
</script>  
  
<template>  
  <Child :data="todos" :title="title"></Child>  
</template>  
  
<style scoped>
</style>
```

>Child.vue

```html
<script setup>
// 使用defineProps接收父组件传递的props
const props = defineProps({
  title: String,
  data: {
    type: Array,
    default: () => [],
    required: true,
    validator: value => {
      return value.length > 0;
    }
  }
});
</script>

<template>
  <h1>{{ title }}</h1>
  <ul>
    <li v-for="(item,i) in data" :key="i">
      {{ i }} - {{ item }}
    </li>
  </ul>
</template>

<style scoped>
</style>
```

### 子传父（子:发送事件 → 父:监听事件）

>Child.vue

我们可以通过[defineEmits](https://cn.vuejs.org/api/sfc-script-setup.html#defineprops-defineemits)宏来声明需要抛出的事件。

```html
<script setup>
const props = defineProps({
  title: String,
  data: {
    type: Array,
    default: () => [],
    required: true,
    validator: value => {
      return value.length > 0;
    }
  }
});

// 子传父1
const emit = defineEmits(["child-click"]);
// 子传父2
function handleClick(item) {
  emit('child-click', item);
}

</script>

<template>
  <h1>{{ title }}</h1>
  <ul>
    <!-- 子传父新增监听函数3 -->
    <li v-for="(item,i) in data" :key="i" @click="handleClick(item)">
      {{ i }} - {{ item }}
    </li>
  </ul>
</template>

<style scoped>
</style>
```

>Parent.vue

```html
<script setup>  
  
import Child from "./Child.vue";  
import {ref} from "vue";  
  
const title = 'Hello';  
const todos = ['起床', '打扫卫生'];  
const selected = ref('');  
  
function onSelected(item) {  
  selected.value = item;  
}  
</script>  
  
<template>
  <!-- 子传父新增监听函数1: child-click=子组件中定义的事件名称，onSelected为父组件定义的接受事件处理函数 -->
  <Child :data="todos" :title="title" @child-click="onSelected"></Child>  
  <p>您选中了:{{ selected }}</p>  
</template>  
  
<style scoped>  
</style>
```

## 父子组件双向数据绑定

> v-model + defineProps + defineEmits

<font color="#c0504d">当子组件通知父组件更新的值，正好也是父组件通过props传递给子组件的值时</font>，此时可以在父组件中用v-model在该属性上进行双向绑定。

案例：[父子组件双向数据绑定](https://blog.csdn.net/cannotbecounted/article/details/132090372)



