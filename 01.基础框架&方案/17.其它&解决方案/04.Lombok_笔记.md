# `@Data`

等同于以下五个注解组合

1. `@Getter` 
2. `@Setter` 
3. `@RequiredArgsConstructor` 
4. `@ToString` 
5. `@EqualsAndHashCode`

# `@Builder`


# `@Cleanup`

## 示例

```java
public void copyFile(String in, String out) throws IOException {  
    @Cleanup FileInputStream inStream = new FileInputStream(in);  
    @Cleanup FileOutputStream outStream = new FileOutputStream(out);  
    byte[] b = new byte[65536];  
    while (true) {  
        int r = inStream.read(b);  
        if (r == -1) break;  
        outStream.write(b, 0, r);  
    }  
}
```

编译后

```java
public void copyFile(String in, String out) throws IOException {
	FileInputStream inStream = new FileInputStream(in);
	try {
		FileOutputStream outStream = new FileOutputStream(out);
		try {
			byte[] b = new byte[65536];
			while (true) {
				int r = inStream.read(b);
				if (r == -1) break;
				outStream.write(b, 0, r);
			}
		} finally {
			if (outStream != null) outStream.close();
		}
	} finally {
		if (inStream != null) inStream.close();
	}
}
```

## 实现

```java
@Target(ElementType.LOCAL_VARIABLE)
@Retention(RetentionPolicy.SOURCE)
public @interface Cleanup {
	/** @return The name of the method that cleans up the resource. By default, 'close'. The method must not have any parameters. */
	String value() default "close";
}
```



# 骚操作

https://mp.weixin.qq.com/s/Fe3IJALep_cjzE1_GAsZ1Q

