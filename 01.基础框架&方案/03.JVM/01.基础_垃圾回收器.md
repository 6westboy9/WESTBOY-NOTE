
# Hotspot垃圾回收器

![[Pasted image 20240423111955.png|500]]

如何查看当前虚拟机使用的垃圾回收器呢？

```bash
$ jmap -heap 20138
Attaching to process ID 20138, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 25.121-b13

using thread-local object allocation.
Parallel GC with 13 thread(s)

Heap Configuration:
   MinHeapFreeRatio         = 0
   MaxHeapFreeRatio         = 100
   MaxHeapSize              = 4294967296 (4096.0MB)
   NewSize                  = 1431306240 (1365.0MB)
   MaxNewSize               = 1431306240 (1365.0MB)
   OldSize                  = 2863661056 (2731.0MB)
   NewRatio                 = 2
   SurvivorRatio            = 8
   MetaspaceSize            = 21807104 (20.796875MB)
   CompressedClassSpaceSize = 1073741824 (1024.0MB)
   MaxMetaspaceSize         = 17592186044415 MB
   G1HeapRegionSize         = 0 (0.0MB)

Heap Usage:
PS Young Generation
Eden Space:
   capacity = 596115456 (568.5MB)
   used     = 595523400 (567.9353713989258MB)
   free     = 592056 (0.5646286010742188MB)
   99.90068098485942% used
From Space:
   capacity = 421527552 (402.0MB)
   used     = 589824 (0.5625MB)
   free     = 420937728 (401.4375MB)
   0.13992537313432835% used
To Space:
   capacity = 413663232 (394.5MB)
   used     = 0 (0.0MB)
   free     = 413663232 (394.5MB)
   0.0% used
PS Old Generation
   capacity = 2863661056 (2731.0MB)
   used     = 2239668208 (2135.914047241211MB)
   free     = 623992848 (595.0859527587891MB)
   78.20996145152732% used

20358 interned Strings occupying 2129576 bytes.
```

可以看到对应的垃圾回收器是Parallel GC，但是具体对应到新生代和老年代是什么呢？这里进一步使用<font color="#c0504d">Arthas</font>的<font color="#c0504d">jvm</font>命令查看：

![[Pasted image 20240423114358.png|700]]

可以看到新生代是PS Scavenge，老年代是PS MarkSweep。

