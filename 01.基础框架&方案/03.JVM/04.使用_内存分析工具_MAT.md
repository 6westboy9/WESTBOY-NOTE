## 使用教程

* 美团技术专家Q的博客系列
	* [JVM内存分析工具MAT的深度讲解与实践——入门篇](https://juejin.cn/post/6908665391136899079)
	* [JVM内存分析工具MAT的深度讲解与实践——进阶篇](https://juejin.cn/post/6911624328472133646)
	* JVM内存分析工具MAT的深度讲解与实践——高阶篇（不知道去哪儿了）
	* [一文深度讲解JVM内存分析工具MAT及实践](https://zhuanlan.zhihu.com/p/350935330)

本位着重说明MAT工的使用，以下为作者整理的MAT的4大功能模块，并且给出了常用功能。

![[Pasted image 20240313112141.png|750]]


https://blog.csdn.net/yilongchuan/article/details/109532350

# 分析过程

![[Pasted image 20240620171823.png|1000]]

Dominator Tree各列含义

* <font color="#f79646">Shallow Heap</font>：对象本身占用的内存大小，不包含其引用的对象所占的内存大小。
	* 比如有一个Student对象，其成员变量有`String name`和`int age`。那么age这个整数占4个字节，是算在Student对象的Shallow Heap里的。但是name是个字符串，Student对象只是引用了该字符串，那么不管name有多长，都是不算在Student对象的Shallow Heap里的。
* <font color="#f79646">Retained Heap</font>：对象本身以及对象直接或间接引用的其他对象占用内存大小的总和。
	* 以上面的例子来讲，Student对象的Retained Heap就包含了该对象本身的大小加上name的大小。
	* 更准确的说法是如果对象被垃圾回收，总共能释放出的内存大小。
* <font color="#f79646">Percentage</font>：对象Retained Heap在总内存中占的比例。

单位：
