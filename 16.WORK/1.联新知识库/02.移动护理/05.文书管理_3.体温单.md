* 护士操作入口：<font color="#9bbb59">文书管理 - 文书编辑 - 选择患者 - 体温单查询</font>
* 体温单配置入口：<font color="#9bbb59">实施配置 - 体温单配置</font>
* 体温单观察项配置入口：<font color="#9bbb59">智能护理信息管理系统即3.7版本 - 实施配置 - 观察项维护</font>


# 观察项配置

```js
// 体征观察项
use coms
db.observationItemConfig.find({type:'vital'})
```

# 体征录入来源

1. 体征管理


# 配置

## 体温单配置

* 病区配置
* 页面配置
* 页头/页尾配置
* 绘图区配置
	* 边框|线配置
	* 坐标系配置
	* 患者事件
	* 各体征项配置
		* 体温
		* 脉搏
		* 心率
		* 降温后体温
		* 疼痛评分
		* 止痛后疼痛评分
		* 复测体温
		* 升温后体温
	* 其他配置
		* 患者状态（<font color="#9bbb59">批量体征录入有使用</font>）
		* 赋值体征
		* 配置体征重叠时图标
		* 等等
* 表格区配置
	* 字体配置
		* 颜色
	* 4H区
	* 12H区
	* 24H区
	* 特殊6H区
* 录入顺序配置
	* 绘图区
	* 表格区

## 体征时间点配置

>也有叫标准时间点

![[Pasted image 20260126103858.png|L|800]]


## 异常体征事件配置

>这里的校验范围设置 = 异常体征事件配置

![[Pasted image 20251119184058.png|L|1400]]

# 体温单页面

## 查询体温单表头

```
http://10.2.3.170:10001/api/windranger/Mnis/vitalSignHeader/page?inhosCode=13117453&pageNo=179
```


```json
{
    "id": "691d6b7f56555a847e84962d",
    "pageNo": 179,
    "inhosCode": "13117453",
    "header": {
        "isBaby": "0",
        "chargeTypeName": "现金",
        "occupation": "其他",
        "gender": "M",
        "nation": "汉族",
        "inhosDays": 1255,
        "patName": "测试Q",
        "motherCode": "11754453",
        "doctorName": "管理员",
        "bedCode": "9803",
        "balance": "-6388.73",
        "wardCode": "98",
        "patDocumentno": "",
        "seqId": 91036,
        "hometown": "广西区南宁市",
        "transferBedStatus": "1",
        "displayCode": "1123455",
        "inDate": 1655110016000,
        "motherName": "马汝山",
        "createPerson": "sync",
        "updateTime": 1731485451000,
        "currTeam": false,
        "inDiag": "1、体检",
        "birthDate": 663177600000,
        "genderName": "男",
        "inhosCode": "13117453",
        "barCode": "BR|1123455|13117453",
        "wardName": "测试科室",
        "patCode": "1123455",
        "createTime": 1655110084000,
        "doctorCode": "9999",
        "babyInhosCodes": [],
        "newOrder": false,
        "updatePerson": "自动出院",
        "age": "31岁",
        "maritalStatus": "-",
        "status": "1"
    },
    "footer": null,
    "printFlag": false,
    "printPerson": null,
    "printTime": null,
    "createPerson": "123",
    "createTime": "2025-11-19T15:02:23.369+0800",
    "updatePerson": null,
    "updateTime": null,
    "editStatus": true
}
```


## 查询单个患者的所有体温单数据

```
http://10.2.3.170:86/api/windranger/patientVitalSign/single/all?inhosCode=13117453&beginDate=2025-11-19&endDate=2025-11-19&wardCode=98
```

1. 找到对应的体征时间点（当前是4, 8, 12, 16, 20, 24），如果没0需要补0，所以结果是：4, 8, 12, 16, 20, 24, 0
2. 查询

``` SQL
select *  
from pat_inhos_vitalsign  
where time_point IN (4, 8, 12, 16, 20, 24, 0)  
  and inhos_code IN ('13117453')  
  and TO_DAYS(recording_date) >= TO_DAYS('2025-11-10 00:00:00.0')  
  and TO_DAYS(recording_date) <= TO_DAYS('2025-11-17 00:00:00.0');
```

3. 过滤：相同  recording_date + vital_signs + time_point 只取最新：max(seqId)
	1. recording_date 体征时间点/按小时整
	2. vital_signs 体征项目
	3. time_point 体征时间点
4. 分组组装结果（核心，主要是针对12小时特殊配置进行特殊处理）


![[Pasted image 20251119181602.png|L|1000]]

其中options选项列表的数据来源来自于字典

![[Pasted image 20251119182354.png|L|400]]

![[Pasted image 20251119182259.png|L|1400]]

5. 自定义排序后返回