

# 事件类型

* 手术
* 预手术（申请时间）
* 预手术（计划时间）

```sql
use windranger_foundation;
select * from windranger_foundation.sys_dic where dic_type = 'taskRemindEvent';
```


| id  | dic\_code                  | dic\_name | 事件描述   |
| :-- | :------------------------- | :-------- | ------ |
|     | hotToNormal                | 高热转正常     |        |
|     | dangerLevelS\_order        | 病重        |        |
|     | dangerLevelD\_order        | 病危        |        |
|     | noStoolDays                | 三日无大便     |        |
|     | weightLoss                 | 体重下降      |        |
|     | total                      | 风险评估单分数   |        |
|     | oxygenbid\_order           | 测血氧       |        |
|     | bloodPressbid\_order       | 测血压bid    |        |
|     | highTemperature            | 发热转正常     |        |
|     | cooledTemperRise           | 体温不降反升    |        |
|     | evalFirstRecord            | 风险评估单首次记录 |        |
|     | afterSurTemperature        | 术后患者体温    |        |
|     | dischargedEvaluation       | 出院评估      |        |
|     | riskEvaluationLevel        | 风险评估等级    |        |
|     | hypothermia                | 体温不升      |        |
|     | painScore                  | 疼痛评分      |        |
|     | acesodyneScore             | 止痛后疼痛评分   |        |
| 01  | *temperature*              | 体温        |        |
| 11  | **ry**                     | 入院        |        |
| 12  | **zr**                     | 转入        |        |
| 13  | **cy**                     | 出院        |        |
| 14  | **beforeDischarge\_order** | 预出院       |        |
| 21  | *ss*                       | 手术        | 患者手术事件 |
| 22  | *applyBeforeSurgery*       | 预手术（申请时间） | 根据手术事件 |
| 23  | *beforeSurgery*            | 预手术（计划时间） |        |
| 31  | **nursingLevel0\_order**   | 特级护理      |        |
| 32  | **nursingLevel1\_order**   | 一级护理      |        |
| 33  | **nursingLevel2\_order**   | 二级护理      |        |
| 41  | *nurseFirstToSecond*       | 一级护理转二级护理 |        |
| 42  | *nurseSecondToFirst*       | 二级护理转一级护理 |        |
| 43  | *nurseSecondToThird*       | 二级护理转三级护理 |        |
| 44  | *nurseThirdToSecond*       | 三级护理转二级护理 |        |


# 预手术事件

## 事件触发生成护理任务入口

![[07.智能提醒_3.事件类型_预手术事件.excalidraw|L|1400]]

## 术前事件智能提醒(申请时间)

### 查询语句(申请时间)

```sql
select * from windranger_emr.pat_inhos_surgery 
where status != 6 and (apply_time >= #{startTime} and apply_time < #{endTime})
```


## 术前事件智能提醒(计划时间) 

### 查询语句(计划时间) 

```sql
select t.* from windranger_emr.pat_inhos_surgery t 
where (t.plan_start_time >= #{startTime} and plan_start_time < #{endTime})  
```


## 判断是否已经生成了任务

