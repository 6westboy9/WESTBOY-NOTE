com.lachesis.windranger.mnis.service.impl.PatEventRecordService#createEventDatas

# 患者出院入院事件

```json
// POST /mnis/patEventRecords/batch

[
    {
        "recordTime": "2024-06-25T11:12:44.000+0800",
        "wardCode": "1049",
        "hideTime": 0,
        "event": "cy",
        "inhosCode": "20282"
    }
]
```

>患者出院事件初始化数据

1.移除Redis缓存的出院患者

```sql
-- 登录
[root@localhost ~]# redis-cli -h 127.0.0.1-p 6379
127.0.0.1:6379> auth lx_1234
OK
```

```sql
-- 确认是否已经出院，1表示已经出院，0表示未出院
127.0.0.1:6379> sismember lachesis:event:cy:2024-06 "\"20282\""
(integer) 1 
-- 需要从出院集合中移除该患者
127.0.0.1:6379> srem lachesis:event:cy:2024-06 "\"20282\""
(integer) 1
-- 再次确认
127.0.0.1:6379> sismember lachesis:event:cy:2024-06 "\"20282\""
(integer) 0
```

2.清空患者归档数据

```sql
use windranger_mnis;
-- 查询是否患者归档数据，如果有，患者出院事件不会触发后续流程
select * from windranger_mnis.doc_data_filing_record where inhos_code = '20282';
delete from windranger_mnis.doc_data_filing_record where inhos_code = '20282';
```