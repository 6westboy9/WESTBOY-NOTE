# 需求文档

## 1.产品概述

患者事件展示系统是一个用于可视化展示患者在医院期间各类事件的时间轴组件，帮助医护人员快速了解患者的治疗轨迹和病情变化。

## 2.核心功能

### 2.1.事件时间轴展示

- 时间轴为S型曲线，从左到右，从上到下延伸
- 每个事件在时间轴上以圆形图标显示，圆形图标的中心点必须准确位于时间轴上
- 时间轴支持根据屏幕宽度自适应放置事件点，宽度越大显示越多事件点
- 支持分页瀑布流风格展示大量事件

### 2.2.事件类型及视觉区分

- 住院（入）：表示患者入院事件，方向为入
- 转科-转出（出）：表示患者从当前病区转出，方向为出
- 转科-转入（入）：表示患者转入新的病区，方向为入
- 出院（出）：表示患者出院事件，方向为出

### 2.3.时间轴分段与色彩系统

- 事件的"入"和"出"形成一个时间轴分段
- 同一段内的时间轴及其两端的事件点颜色保持一致
- 不同分段采用不同的颜色标识，以增强视觉区分度

### 2.4.事件详情展示

- 鼠标悬停或点击事件点时，显示该事件的详细信息
- 事件详情包括：时间、类型、病区（出方向的事件病区为空）

## 3.数据模型

### 患者事件数据结构

```javascript
{
  id: string, // 事件唯一标识
  timestamp: Date, // 事件发生时间
  type: string, // 事件类型：'admission', 'transfer-out', 'transfer-in', 'discharge'
  direction: string, // 事件方向：'in', 'out'
  department: string, // 事件发生时患者所在病区（出方向的事件此字段为空）
  patientId: string, // 患者唯一标识
  description: string, // 事件描述
  color: string // 事件对应的颜色标识
}
```

### 时间轴分段数据结构

```javascript
{
  id: string, // 分段唯一标识
  startEvent: Event, // 起始事件（入方向）
  endEvent: Event, // 结束事件（出方向）
  color: string // 分段颜色
}
```

## 4.UI/UX设计要求

参考如下 UI 风格

![[Pasted image 20250919201442.png|1000]]

![[Pasted image 20250919201454.png|1000]]

![[Pasted image 20250919201510.png|1000]]

先完善产品需求文档，并提供一个 UI 设计稿


```
.search-section {
    margin-bottom: 16px;
    padding: 16px;
    background-color: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
}
```