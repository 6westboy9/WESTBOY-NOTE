## 1.CR

>Java群

项目：mnis  
内容：9204【湖南省妇幼保健院】产房专科结构化项目增加
分支：feat_release_mnis_v3.8_wpb_9204 into qa_mnis_v3.8
MR：http://10.2.3.111:86/backend_group/backend_application/mnis/merge_requests/6220

# 2.脚本

>邮件

> [!danger] 注意事项
> 提供脚本为实际线上脚本，所以必须考虑实际线上情况
> 1.开关，默认应为关闭（根据实际情况而定）
> 2.IP地址，默认应为127.0.0.1（一般情况）

---

宝哥麻烦归档下脚本：

测试环境：10.2.3.170
项目：
冲刺版本：移动护理迭代57
单号：9204
版本号：MNIS V3.8.119
分支：feat_release_mnis_v3.8_wpb_9204

MySQL脚本

```sql
use windranger_mnis;

DELETE FROM doc_struct_type where type_code = 'deliverySpecialized';
INSERT INTO windranger_mnis.doc_struct_type (status, type_name, type_code, is_factory_setting, major_category_code, create_time, create_person, update_time, update_person)
VALUES (1, '产房专科', 'deliverySpecialized', 0, 'ordinary-document', '2024-11-19 17:53:17', '123', null, null);

DELETE FROM doc_struct_project where type_code = 'deliverySpecialized' and item_code in ('cervicalDilationFullTime','fetalDeliveryTime','membraneRuptureMethod');
INSERT INTO windranger_mnis.doc_struct_project (type_code, item_code, item_name, is_factory_setting, data_status, is_record_statistics, create_time, create_person, update_time, update_person)
VALUES ('deliverySpecialized', 'cervicalDilationFullTime', '宫口开全时间', 0, 1, 0, '2024-05-24 10:29:37', '123', null, null);
INSERT INTO windranger_mnis.doc_struct_project (type_code, item_code, item_name, is_factory_setting, data_status, is_record_statistics, create_time, create_person, update_time, update_person)
VALUES ('deliverySpecialized', 'fetalDeliveryTime', '胎儿娩出时间', 0, 1, 0, '2024-05-24 10:29:58', '123', null, null);
INSERT INTO windranger_mnis.doc_struct_project (type_code, item_code, item_name, is_factory_setting, data_status, is_record_statistics, create_time, create_person, update_time, update_person)
VALUES ('deliverySpecialized', 'membraneRuptureMethod', '破膜方式', 0, 1, 0, '2024-05-24 10:29:58', '123', null, null);
```


> [!danger] 注意事项
> 脚本后不要带 `;` ~

MongDB脚本

```js

```

# 3.提测单

>提测群


# 4.其它

A文书项目X要取B文书项目Y的值规则：
* A文书项目X配置「破膜方式」结构化时，，B文书项目Y也必须配置相同结构化（**相同结构化关联**）
* A文书项目X配置「宫口开全时间」结构化时，**B文书必须是产程图文书，且B文书项目Y必须满足：开启了「关联宫口扩张曲线」的项目，且值=10**的第一个行记录的时间
* A文书项目X配置「胎儿娩出时间」结构化时，**B文书必须是产程图文书，且B文书项目Y必须满足：配置了「阴道分娩」，且值=分娩**的第一个行记录的时间