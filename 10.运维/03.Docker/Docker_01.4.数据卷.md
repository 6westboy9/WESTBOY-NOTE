资料：

* https://juejin.cn/post/7154444403888062472

# 容器数据卷


Docker的理念将运行的环境打包形成容器运行，运行可以伴随容器，但是我们对数据的要求是希望持久化，容器之间可以共享数据，Docker容器产生的数据，<font color="#f79646">如果不通过docker commit生成新的镜像，使得数据作为容器的一部分保存下来，那么当容器被删除之后，数据也就没了</font>，为了能够保存数据，在Docker容器中使用卷。<u>数据卷就是文件或者目录，存在于一个或者多个容器中，但是不属于联合文件系统，因此能够绕过Union File System提供一些用于持久化数据或共享数据的特点。</u>

> [!important]+ 划线部分解释
>
数据卷是一个<font color="#f79646">可供一个或多个容器使用的特殊目录</font>，它绕过UnionFS，可以提供很多有用的特性：
> * 数据卷可以在容器之间共享和重用
> * 对数据卷的修改会立马生效
> * 对数据卷的更新，不会影响镜像
> * 数据卷默认会一直存在，即使容器被删除



## 1.通过命令添加

### 匿名目录挂载

匿名目录挂载只需要写容器内目录或者文件即可，而宿主机对应的目录会在<font color="#f79646">/var/lib/docker/volumes</font>路径下生成。

### 具名目录挂载


### 指定目录挂载


## 2.通过Dockerfile添加


## 3.通过Docker Compose添加


# 数据卷容器

命名的容器已挂载数据卷，其他的容器通过挂载这个容器（父容器）实现数据共享，挂载数据卷的容器，称为数据卷容器。通过数据卷容器可以实现容器间的数据共享。











